<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Waiter</title>
</head>
<body>
	<script src="Waiter.js"></script>
	<script>
		setTimeout(() => {
			const div = document.createElement("div");
			div.style.border = "2px solid black";
			div.id = "test";
			div.addEventListener("click", () => console.log("div click listener triggered"));
			document.body.appendChild(div);

			setTimeout(() => {
				div.textContent = "test";
			}, 1000)
		}, 1000);
	</script>
	<script>
		Waiter.createChain()
		.waitFor("#test")
		// .timeoutIn(1000, () => console.log("timeout"))
		.toExist()
		.execute(() => console.log("node exists"))
		.toPopulate()
		.execute(() => console.log("node has been populated"))
		.ifValueMatches(/test/gi)
		// .ifValueMatches(/dsa/gi)
		.execute((node) => console.log("execute()"))
		.else((node) => console.log("else()"))
		.wait(1000)
		.click()
		.end(() => console.log("You've been served."));
	</script>
</body>
</html>